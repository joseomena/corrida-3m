<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Corrida das 3M</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f9f9f9;
    }
    h1 {
      margin-top: 20px;
    }
    #tabuleiro-container {
      position: relative;
      width: 800px;
      margin: 20px auto;
    }
    #tabuleiro-img {
      width: 100%;
      border: 3px solid #000;
      border-radius: 10px;
    }
    .pino {
      position: absolute;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      border: 2px solid #000;
    }
    #pino1 { background-color: red; }
    #pino2 { background-color: blue; }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
    }
    #pergunta {
      margin-top: 20px;
      font-size: 18px;
    }
    .opcao {
      display: block;
      margin: 5px;
    }
  </style>
</head>
<body>
  <h1>Corrida das 3M</h1>
  <div id="tabuleiro-container">
    <img id="tabuleiro-img" src="Tabuleiro.png" alt="Tabuleiro do jogo">
    <div id="pino1" class="pino"></div>
    <div id="pino2" class="pino"></div>
  </div>
  <button onclick="jogarDado()">Jogar Dado</button>
  <p id="resultadoDado"></p>
  <p id="pergunta"></p>
  <div id="opcoes"></div>

  <script>
    const perguntas = {
      amarela: [
        { q: "Qual é a moda de 2, 2, 3, 4, 5?", o: ["2", "3", "4", "5"], r: "2" },
        { q: "Moda de 1, 1, 2, 2, 3?", o: ["1", "2", "1 e 2", "3"], r: "1 e 2" }
      ],
      azul: [
        { q: "Mediana de 1, 3, 5, 7, 9?", o: ["3", "5", "7", "9"], r: "5" },
        { q: "Mediana de 4, 6, 8, 10?", o: ["6", "7", "8", "9"], r: "7" }
      ],
      vermelha: [
        { q: "Média de 10, 20, 30, 40?", o: ["20", "25", "30", "35"], r: "25" },
        { q: "Média de 5, 5, 5, 15?", o: ["5", "7.5", "10", "8.5"], r: "7.5" }
      ]
    };

    let posicao1 = 0;
    let posicao2 = 0;
    let turno = 1;
    const posicoes = [
      { top: 700, left: 100 }, { top: 700, left: 160 }, { top: 700, left: 220 },
      { top: 700, left: 280 }, { top: 700, left: 340 }, { top: 700, left: 400 },
      { top: 640, left: 400 }, { top: 580, left: 400 }, { top: 520, left: 400 },
      { top: 460, left: 400 }, { top: 400, left: 400 }, { top: 400, left: 340 },
      { top: 400, left: 280 }, { top: 400, left: 220 }, { top: 400, left: 160 },
      { top: 400, left: 100 }, { top: 340, left: 100 }, { top: 280, left: 100 },
      { top: 220, left: 100 }, { top: 160, left: 100 }, { top: 100, left: 100 },
      { top: 100, left: 160 }, { top: 100, left: 220 }, { top: 100, left: 280 },
      { top: 100, left: 340 }, { top: 100, left: 400 }
    ];

    function moverPino() {
      const pino1 = document.getElementById('pino1');
      const pino2 = document.getElementById('pino2');
      let pos1 = posicoes[posicao1] || posicoes[posicoes.length - 1];
      let pos2 = posicoes[posicao2] || posicoes[posicoes.length - 1];
      pino1.style.top = pos1.top + 'px';
      pino1.style.left = pos1.left + 'px';
      pino2.style.top = pos2.top + 'px';
      pino2.style.left = (pos2.left + 20) + 'px';
    }

    function jogarDado() {
      const resultado = Math.floor(Math.random() * 6) + 1;
      document.getElementById('resultadoDado').textContent = `Jogador ${turno} tirou: ${resultado}`;

      if (turno === 1) {
        posicao1 += resultado;
        if (posicao1 >= posicoes.length - 1) {
          alert("Jogador 1 venceu!");
          posicao1 = posicoes.length - 1;
        }
      } else {
        posicao2 += resultado;
        if (posicao2 >= posicoes.length - 1) {
          alert("Jogador 2 venceu!");
          posicao2 = posicoes.length - 1;
        }
      }
      moverPino();
      apresentarPergunta();
    }

    function apresentarPergunta() {
      const categorias = ['amarela', 'azul', 'vermelha'];
      const cor = categorias[Math.floor(Math.random() * 3)];
      const desafio = perguntas[cor][Math.floor(Math.random() * perguntas[cor].length)];
      document.getElementById('pergunta').textContent = desafio.q;
      const opcoesDiv = document.getElementById('opcoes');
      opcoesDiv.innerHTML = '';
      desafio.o.forEach(op => {
        const btn = document.createElement('button');
        btn.textContent = op;
        btn.className = 'opcao';
        btn.onclick = () => {
          if (op === desafio.r) {
            alert("Correto!");
          } else {
            alert("Errado! Voltando uma casa.");
            if (turno === 1) posicao1 = Math.max(0, posicao1 - 1);
            else posicao2 = Math.max(0, posicao2 - 1);
            moverPino();
          }
          turno = turno === 1 ? 2 : 1;
          document.getElementById('pergunta').textContent = '';
          opcoesDiv.innerHTML = '';
        };
        opcoesDiv.appendChild(btn);
      });
    }

    moverPino();
  </script>
</body>
</html>
